(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{6522:function(e,s,r){Promise.resolve().then(r.bind(r,9432))},9432:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return d}});var t=r(3827),l=r(1270),i=r(2670),a=r(248),o=r(8792),n=r(7907),c=r(7662);let m=a.z.object({name:a.z.string().min(2,"Le nom doit contenir au moins 2 caract\xe8res"),email:a.z.string().email("Email invalide"),password:a.z.string().min(6,"Le mot de passe doit contenir au moins 6 caract\xe8res"),confirmPassword:a.z.string()}).refine(e=>e.password===e.confirmPassword,{message:"Les mots de passe ne correspondent pas",path:["confirmPassword"]});function d(){let e=(0,n.useRouter)(),{register:s,handleSubmit:r,formState:{errors:a,isSubmitting:d}}=(0,i.cI)({resolver:(0,l.F)(m)}),u=async s=>{try{var r;let{data:t,error:l}=await c.O.auth.signUp({email:s.email,password:s.password});if(l)throw l;let{error:i}=await c.O.from("users").insert([{id:null===(r=t.user)||void 0===r?void 0:r.id,name:s.name,email:s.email,role:"user"}]);if(i)throw i;e.push("/auth/login?registered=true")}catch(e){console.error("Erreur lors de l'inscription:",e),alert("Une erreur est survenue lors de l'inscription. Veuillez r\xe9essayer.")}};return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Cr\xe9er un compte"})}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:r(u),children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom complet"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{...s("name"),type:"text",className:"block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm",placeholder:"John Doe"})}),a.name&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:a.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{...s("email"),type:"email",className:"block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm",placeholder:"john@example.com"})}),a.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{...s("password"),type:"password",className:"block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm",placeholder:"••••••••"})}),a.password&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:a.password.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{...s("confirmPassword"),type:"password",className:"block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm",placeholder:"••••••••"})}),a.confirmPassword&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:a.confirmPassword.message})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:d,className:"group relative flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50",children:d?"Inscription en cours...":"S'inscrire"})})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["D\xe9j\xe0 un compte ?"," ",(0,t.jsx)(o.default,{href:"/auth/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Se connecter"})]})})]})})}},7662:function(e,s,r){"use strict";r.d(s,{O:function(){return i}});var t=r(1051);let l={supabase:{url:"https://igeaimikswzxnaduekrr.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnZWFpbWlrc3d6eG5hZHVla3JyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI4OTQ2OTMsImV4cCI6MjA1ODQ3MDY5M30.S3osZcB9x8ygSDDMOfTxvvUHoxAbL1zlQNY70uLVrJA"}},i=(0,t.eI)(l.supabase.url,l.supabase.anonKey)}},function(e){e.O(0,[250,834,337,971,69,744],function(){return e(e.s=6522)}),_N_E=e.O()}]);