(()=>{var e={};e.id=115,e.ids=[115],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},9820:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},6602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=s(482),i=s(9108),r=s(2563),l=s.n(r),n=s(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["admin",{children:["users",{children:["[userId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1424)),"/Users/saill/Desktop/Premium cursor Astra/src/app/admin/users/[userId]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/Users/saill/Desktop/Premium cursor Astra/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/saill/Desktop/Premium cursor Astra/src/app/admin/users/[userId]/page.tsx"],m="/admin/users/[userId]/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/users/[userId]/page",pathname:"/admin/users/[userId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6407:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},6849:(e,t,s)=>{Promise.resolve().then(s.bind(s,9700))},5826:()=>{},9700:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(5344),i=s(8428),r=s(3729),l=s(9835),n=s(7430),o=s(4672),d=s(9119),c=s(9224);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,c.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var u=s(8179),x=s(16);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,c.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),p=(0,c.Z)("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),g=(0,c.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),f=(0,c.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var b=s(6885),y=s(4513);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,c.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),v=e=>{try{let t=new Date(e);if(isNaN(t.getTime()))return"Date inconnue";return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Date inconnue"}};function N({photos:e,onDelete:t,onDownload:s}){let[i,l]=(0,r.useState)(null),[n,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),x=async e=>{try{let t=await fetch(e.url),s=await t.blob(),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download=e.name,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),document.body.removeChild(i)}catch(e){console.error("Erreur lors du t\xe9l\xe9chargement:",e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.E.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.map((e,s)=>(0,a.jsxs)(o.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*s},className:"relative group aspect-square",children:[a.jsx("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover rounded-lg cursor-pointer",onClick:()=>{l(e),c(!0),u(!1)}}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity duration-200 rounded-lg flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:t=>{t.stopPropagation(),x(e)},className:"opacity-0 group-hover:opacity-100 text-white bg-green-600 hover:bg-green-700 p-2 rounded-full transition-opacity duration-200","aria-label":"T\xe9l\xe9charger la photo",children:a.jsx(b.Z,{className:"h-4 w-4"})}),a.jsx("button",{onClick:s=>{s.stopPropagation(),t(e.id)},className:"opacity-0 group-hover:opacity-100 text-white bg-red-600 hover:bg-red-700 p-2 rounded-full transition-opacity duration-200","aria-label":"Supprimer la photo",children:a.jsx(g,{className:"h-4 w-4"})})]})]},e.id))}),a.jsx(d.M,{children:n&&i&&a.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,a.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 transition-opacity","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),a.jsx(o.E.div,{initial:{scale:.9,opacity:0},animate:{scale:m?.3:1,opacity:1,y:m?"80vh":0},exit:{scale:.9,opacity:0},transition:{duration:.3},className:`inline-block align-bottom text-left overflow-hidden transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full ${m?"fixed bottom-4 right-4 w-64":""}`,children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:i.url,alt:i.name,className:`w-full h-auto ${m?"max-h-48":"max-h-[80vh]"} object-contain`}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>x(i),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":"T\xe9l\xe9charger la photo",children:a.jsx(b.Z,{className:"h-6 w-6"})}),a.jsx("button",{onClick:()=>u(!m),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":m?"Agrandir la pr\xe9visualisation":"R\xe9duire la pr\xe9visualisation",children:m?a.jsx(j,{className:"h-6 w-6"}):a.jsx(f,{className:"h-6 w-6"})}),a.jsx("button",{onClick:()=>c(!1),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":"Fermer la pr\xe9visualisation",children:a.jsx(y.Z,{className:"h-6 w-6"})})]}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-4 transition-opacity duration-200 ${m?"opacity-0":"opacity-100"}`,children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[a.jsx("h3",{className:"text-lg font-medium",children:i.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[(0,a.jsxs)("span",{children:["Taille: ",(i.size/1024/1024).toFixed(2)," MB"]}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:["Upload\xe9 le: ",v(i.uploaded_at)]})]})]})})]})})]})})})]})}function w({params:e}){let t=(0,i.useRouter)(),[s,c]=(0,r.useState)(null),[j,v]=(0,r.useState)(!0),[w,k]=(0,r.useState)(null),[E,S]=(0,r.useState)(!1),[D,C]=(0,r.useState)(""),[I,q]=(0,r.useState)(null),[M,P]=(0,r.useState)(""),[_,O]=(0,r.useState)(null),[A,U]=(0,r.useState)(0),[L,Z]=(0,r.useState)(null),[R,T]=(0,r.useState)(!1),[z,F]=(0,r.useState)(new Set),[J,G]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{let{data:{session:e}}=await n.O.auth.getSession();if(!e){t.push("/auth/login");return}let{data:s,error:a}=await n.O.from("users").select("role").eq("id",e.user.id).single();if(a||s?.role!=="admin"){t.push("/dashboard");return}V()})()},[t,e.userId]);let V=async()=>{try{v(!0),k(null);let{data:t,error:s}=await n.O.from("users").select("*").eq("id",e.userId).single();if(s)throw s;let{data:a,error:i}=await n.O.from("folders").select("*").eq("user_id",e.userId);if(i)throw i;let{data:r,error:l}=await n.O.from("photos").select("*").eq("user_id",e.userId);if(l)throw l;let o={...t,folders:a.map(e=>({...e,photoCount:r.filter(t=>t.folder_id===e.id).length,lastModified:new Date(e.updated_at).toLocaleDateString(),photos:r.filter(t=>t.folder_id===e.id).map(e=>({...e,uploaded_at:new Date(e.uploaded_at).toLocaleDateString()}))}))};c(o)}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e),k("Erreur lors du chargement des donn\xe9es")}finally{v(!1)}},H=async()=>{if(!D.trim()){k("Le nom du dossier ne peut pas \xeatre vide");return}try{let{data:t,error:s}=await n.O.from("folders").insert([{name:D.trim(),user_id:e.userId,created_at:new Date().toISOString()}]).select().single();if(s)throw s;S(!1),C(""),V()}catch(e){console.error("Erreur lors de la cr\xe9ation du dossier:",e),k("Erreur lors de la cr\xe9ation du dossier")}},$=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer ce dossier ? Cette action est irr\xe9versible."))try{let{error:t}=await n.O.from("photos").delete().eq("folder_id",e);if(t)throw t;let{error:s}=await n.O.from("folders").delete().eq("id",e);if(s)throw s;V()}catch(e){console.error("Erreur lors de la suppression du dossier:",e),k("Erreur lors de la suppression du dossier")}},B=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer cette photo ?"))try{let t=s?.folders.flatMap(e=>e.photos).find(t=>t.id===e);if(!t)throw Error("Photo non trouv\xe9e");let a=t.url.split("/").slice(-3).join("/"),{error:i}=await n.O.storage.from("photos").remove([a]);if(i)throw i;let{error:r}=await n.O.from("photos").delete().eq("id",e);if(r)throw r;V()}catch(e){console.error("Erreur lors de la suppression de la photo:",e),k("Erreur lors de la suppression de la photo")}},Q=async e=>{try{let t=await fetch(e.url),s=await t.blob(),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download=e.name,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),document.body.removeChild(i)}catch(e){console.error("Erreur lors du t\xe9l\xe9chargement:",e),k("Erreur lors du t\xe9l\xe9chargement de la photo")}};return j?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(l.N,{}),a.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})]}):w||!s?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(l.N,{}),a.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)]",children:a.jsx("div",{className:"text-red-500",children:w||"Utilisateur non trouv\xe9"})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(l.N,{}),(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t.push("/admin/users"),className:"rounded-md p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 transition-colors duration-200","aria-label":"Retour \xe0 la liste",children:a.jsx(m,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"D\xe9tails de l'utilisateur"})]})})}),a.jsx(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white shadow overflow-hidden sm:rounded-lg mb-8",children:a.jsx("div",{className:"px-4 py-5 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-medium text-white",children:s.name.charAt(0)})}),(0,a.jsxs)("div",{className:"ml-6",children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900",children:s.name}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s.email}),(0,a.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[a.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-sm font-medium ${"admin"===s.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:"admin"===s.role?"Administrateur":"Utilisateur"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Membre depuis ",new Date(s.created_at).toLocaleDateString()]})]})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsx(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(u.Z,{className:"h-8 w-8 text-blue-500"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total dossiers"}),a.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:s.folders.length})]})]})}),a.jsx(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(x.Z,{className:"h-8 w-8 text-purple-500"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total photos"}),a.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:s.folders.reduce((e,t)=>e+t.photoCount,0)})]})]})}),a.jsx(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(h,{className:"h-8 w-8 text-green-500"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Derni\xe8re activit\xe9"}),a.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:s.folders.length>0?new Date(Math.max(...s.folders.map(e=>new Date(e.lastModified).getTime()))).toLocaleDateString():"Aucune"})]})]})})]}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Dossiers"}),(0,a.jsxs)("button",{onClick:()=>S(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(p,{className:"h-5 w-5 mr-2"}),"Nouveau dossier"]})]}),a.jsx(d.M,{children:E&&a.jsx(o.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"text",value:D,onChange:e=>C(e.target.value),placeholder:"Nom du dossier",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),a.jsx("button",{onClick:H,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cr\xe9er"}),a.jsx("button",{onClick:()=>{S(!1),C("")},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Annuler"})]})})}),a.jsx(d.M,{children:a.jsx("ul",{className:"mt-6 divide-y divide-gray-200",children:s.folders.map(e=>(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:e.name.charAt(0)})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.photoCount," photo",e.photoCount>1?"s":""," • Derni\xe8re modification: ",e.lastModified]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>$(e.id),className:"text-red-500 hover:text-red-700 transition-colors duration-200","aria-label":"Supprimer le dossier",children:a.jsx(g,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>G(t=>t===e.id?null:e.id),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200","aria-label":J===e.id?"R\xe9duire le dossier":"Expandre le dossier",children:a.jsx(o.E.div,{animate:{rotate:J===e.id?180:0},transition:{duration:.2},children:a.jsx(f,{className:"h-5 w-5"})})})]})]})}),a.jsx(d.M,{children:J===e.id&&a.jsx(o.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsx(N,{photos:e.photos,onDelete:B,onDownload:Q})})})})]},e.id))})})]})})]}),a.jsx(d.M,{children:R&&L&&a.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,a.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 transition-opacity","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),a.jsx(o.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"inline-block align-bottom text-left overflow-hidden transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:L.url,alt:L.name,className:"w-full h-auto max-h-[80vh] object-contain"}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>Q(L),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":"T\xe9l\xe9charger la photo",children:a.jsx(b.Z,{className:"h-6 w-6"})}),a.jsx("button",{onClick:()=>T(!1),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":"Fermer la pr\xe9visualisation",children:a.jsx(y.Z,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-4",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[a.jsx("h3",{className:"text-lg font-medium",children:L.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[(0,a.jsxs)("span",{children:["Taille: ",(L.size/1024/1024).toFixed(2)," MB"]}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:["Upload\xe9 le: ",(e=>{try{let t=new Date(e);if(isNaN(t.getTime()))return"Date inconnue";return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Date inconnue"}})(L.uploaded_at)]})]})]})})]})})]})})})]})}},9835:(e,t,s)=>{"use strict";s.d(t,{N:()=>l});var a=s(5344),i=s(8428),r=s(6506);function l(){let e=(0,i.useRouter)();return a.jsx("nav",{className:"bg-white shadow",children:a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex h-16 justify-between",children:[(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex flex-shrink-0 items-center",children:a.jsx("span",{className:"text-xl font-bold text-blue-600",children:"Admin Panel"})}),(0,a.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[a.jsx(r.default,{href:"/admin/dashboard",className:"inline-flex items-center border-b-2 border-blue-500 px-1 pt-1 text-sm font-medium text-gray-900",children:"Tableau de bord"}),a.jsx(r.default,{href:"/admin/users",className:"inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700",children:"Utilisateurs"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("button",{onClick:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),e.push("/auth/login")},className:"rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600",children:"D\xe9connexion"})})]})})})}},7430:(e,t,s)=>{"use strict";s.d(t,{O:()=>r});var a=s(3125);let i={supabase:{url:"https://igeaimikswzxnaduekrr.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnZWFpbWlrc3d6eG5hZHVla3JyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI4OTQ2OTMsImV4cCI6MjA1ODQ3MDY5M30.S3osZcB9x8ygSDDMOfTxvvUHoxAbL1zlQNY70uLVrJA"}},r=(0,a.eI)(i.supabase.url,i.supabase.anonKey)},1424:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>l});let a=(0,s(6843).createProxy)(String.raw`/Users/saill/Desktop/Premium cursor Astra/src/app/admin/users/[userId]/page.tsx`),{__esModule:i,$$typeof:r}=a,l=a.default},1342:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>l});var a=s(5036),i=s(2195),r=s.n(i);s(5023);let l={title:"Photo Gallery App",description:"Une application moderne pour g\xe9rer vos photos"};function n({children:e}){return a.jsx("html",{lang:"fr",children:a.jsx("body",{className:r().className,children:a.jsx("main",{className:"min-h-screen bg-gray-50",children:e})})})}},5023:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[479,476,833,236],()=>s(6602));module.exports=a})();