(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{245:function(e,t,a){Promise.resolve().then(a.bind(a,2414))},2414:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var s=a(3827),i=a(7907),r=a(4090),l=a(1048),n=a(7662),o=a(9949),c=a(8745),d=a(7461);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,d.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var u=a(7330),h=a(5561);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,d.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),p=(0,d.Z)("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),f=(0,d.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),g=(0,d.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var b=a(4715),y=a(2235);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,d.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),v=e=>{try{let t=new Date(e);if(isNaN(t.getTime()))return"Date inconnue";return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Date inconnue"}};function N(e){let{photos:t,onDelete:a,onDownload:i}=e,[l,n]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),x=async e=>{try{let t=await fetch(e.url),a=await t.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download=e.name,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(s),document.body.removeChild(i)}catch(e){console.error("Erreur lors du t\xe9l\xe9chargement:",e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.E.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:t.map((e,t)=>(0,s.jsxs)(o.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*t},className:"relative group aspect-square",children:[(0,s.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover rounded-lg cursor-pointer",onClick:()=>{n(e),m(!0),h(!1)}}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity duration-200 rounded-lg flex items-center justify-center space-x-2",children:[(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),x(e)},className:"opacity-0 group-hover:opacity-100 text-white bg-green-600 hover:bg-green-700 p-2 rounded-full transition-opacity duration-200","aria-label":"T\xe9l\xe9charger la photo",children:(0,s.jsx)(b.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e.id)},className:"opacity-0 group-hover:opacity-100 text-white bg-red-600 hover:bg-red-700 p-2 rounded-full transition-opacity duration-200","aria-label":"Supprimer la photo",children:(0,s.jsx)(f,{className:"h-4 w-4"})})]})]},e.id))}),(0,s.jsx)(c.M,{children:d&&l&&(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 transition-opacity","aria-hidden":"true"}),(0,s.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,s.jsx)(o.E.div,{initial:{scale:.9,opacity:0},animate:{scale:u?.3:1,opacity:1,y:u?"80vh":0},exit:{scale:.9,opacity:0},transition:{duration:.3},className:"inline-block align-bottom text-left overflow-hidden transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full ".concat(u?"fixed bottom-4 right-4 w-64":""),children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:l.url,alt:l.name,className:"w-full h-auto ".concat(u?"max-h-48":"max-h-[80vh]"," object-contain")}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>x(l),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":"T\xe9l\xe9charger la photo",children:(0,s.jsx)(b.Z,{className:"h-6 w-6"})}),(0,s.jsx)("button",{onClick:()=>h(!u),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":u?"Agrandir la pr\xe9visualisation":"R\xe9duire la pr\xe9visualisation",children:u?(0,s.jsx)(j,{className:"h-6 w-6"}):(0,s.jsx)(g,{className:"h-6 w-6"})}),(0,s.jsx)("button",{onClick:()=>m(!1),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":"Fermer la pr\xe9visualisation",children:(0,s.jsx)(y.Z,{className:"h-6 w-6"})})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-4 transition-opacity duration-200 ".concat(u?"opacity-0":"opacity-100"),children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:l.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[(0,s.jsxs)("span",{children:["Taille: ",(l.size/1024/1024).toFixed(2)," MB"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Upload\xe9 le: ",v(l.uploaded_at)]})]})]})})]})})]})})})]})}function w(e){let{params:t}=e,a=(0,i.useRouter)(),[d,j]=(0,r.useState)(null),[v,w]=(0,r.useState)(!0),[k,E]=(0,r.useState)(null),[S,C]=(0,r.useState)(!1),[D,M]=(0,r.useState)(""),[I,O]=(0,r.useState)(null),[L,Z]=(0,r.useState)(""),[_,R]=(0,r.useState)(null),[U,T]=(0,r.useState)(0),[A,z]=(0,r.useState)(null),[F,q]=(0,r.useState)(!1),[J,V]=(0,r.useState)(new Set),[H,P]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{let{data:{session:e}}=await n.O.auth.getSession();if(!e){a.push("/auth/login");return}let{data:t,error:s}=await n.O.from("users").select("role").eq("id",e.user.id).single();if(s||(null==t?void 0:t.role)!=="admin"){a.push("/dashboard");return}B()})()},[a,t.userId]);let B=async()=>{try{w(!0),E(null);let{data:e,error:a}=await n.O.from("users").select("*").eq("id",t.userId).single();if(a)throw a;let{data:s,error:i}=await n.O.from("folders").select("*").eq("user_id",t.userId);if(i)throw i;let{data:r,error:l}=await n.O.from("photos").select("*").eq("user_id",t.userId);if(l)throw l;let o={...e,folders:s.map(e=>({...e,photoCount:r.filter(t=>t.folder_id===e.id).length,lastModified:new Date(e.updated_at).toLocaleDateString(),photos:r.filter(t=>t.folder_id===e.id).map(e=>({...e,uploaded_at:new Date(e.uploaded_at).toLocaleDateString()}))}))};j(o)}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e),E("Erreur lors du chargement des donn\xe9es")}finally{w(!1)}},Q=async()=>{if(!D.trim()){E("Le nom du dossier ne peut pas \xeatre vide");return}try{let{data:e,error:a}=await n.O.from("folders").insert([{name:D.trim(),user_id:t.userId,created_at:new Date().toISOString()}]).select().single();if(a)throw a;C(!1),M(""),B()}catch(e){console.error("Erreur lors de la cr\xe9ation du dossier:",e),E("Erreur lors de la cr\xe9ation du dossier")}},Y=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer ce dossier ? Cette action est irr\xe9versible."))try{let{error:t}=await n.O.from("photos").delete().eq("folder_id",e);if(t)throw t;let{error:a}=await n.O.from("folders").delete().eq("id",e);if(a)throw a;B()}catch(e){console.error("Erreur lors de la suppression du dossier:",e),E("Erreur lors de la suppression du dossier")}},X=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer cette photo ?"))try{let t=null==d?void 0:d.folders.flatMap(e=>e.photos).find(t=>t.id===e);if(!t)throw Error("Photo non trouv\xe9e");let a=t.url.split("/").slice(-3).join("/"),{error:s}=await n.O.storage.from("photos").remove([a]);if(s)throw s;let{error:i}=await n.O.from("photos").delete().eq("id",e);if(i)throw i;B()}catch(e){console.error("Erreur lors de la suppression de la photo:",e),E("Erreur lors de la suppression de la photo")}},G=async e=>{try{let t=await fetch(e.url),a=await t.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download=e.name,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(s),document.body.removeChild(i)}catch(e){console.error("Erreur lors du t\xe9l\xe9chargement:",e),E("Erreur lors du t\xe9l\xe9chargement de la photo")}};return v?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(l.N,{}),(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})]}):k||!d?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(l.N,{}),(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)]",children:(0,s.jsx)("div",{className:"text-red-500",children:k||"Utilisateur non trouv\xe9"})})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(l.N,{}),(0,s.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("div",{className:"py-6",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>a.push("/admin/users"),className:"rounded-md p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 transition-colors duration-200","aria-label":"Retour \xe0 la liste",children:(0,s.jsx)(m,{className:"h-5 w-5"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"D\xe9tails de l'utilisateur"})]})})}),(0,s.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white shadow overflow-hidden sm:rounded-lg mb-8",children:(0,s.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-2xl font-medium text-white",children:d.name.charAt(0)})}),(0,s.jsxs)("div",{className:"ml-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-medium text-gray-900",children:d.name}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:d.email}),(0,s.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium ".concat("admin"===d.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"admin"===d.role?"Administrateur":"Utilisateur"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["Membre depuis ",new Date(d.created_at).toLocaleDateString()]})]})]})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-8 w-8 text-blue-500"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total dossiers"}),(0,s.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:d.folders.length})]})]})}),(0,s.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(h.Z,{className:"h-8 w-8 text-purple-500"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total photos"}),(0,s.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:d.folders.reduce((e,t)=>e+t.photoCount,0)})]})]})}),(0,s.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{className:"h-8 w-8 text-green-500"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Derni\xe8re activit\xe9"}),(0,s.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:d.folders.length>0?new Date(Math.max(...d.folders.map(e=>new Date(e.lastModified).getTime()))).toLocaleDateString():"Aucune"})]})]})})]}),(0,s.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,s.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Dossiers"}),(0,s.jsxs)("button",{onClick:()=>C(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,s.jsx)(p,{className:"h-5 w-5 mr-2"}),"Nouveau dossier"]})]}),(0,s.jsx)(c.M,{children:S&&(0,s.jsx)(o.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("input",{type:"text",value:D,onChange:e=>M(e.target.value),placeholder:"Nom du dossier",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,s.jsx)("button",{onClick:Q,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cr\xe9er"}),(0,s.jsx)("button",{onClick:()=>{C(!1),M("")},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Annuler"})]})})}),(0,s.jsx)(c.M,{children:(0,s.jsx)("ul",{className:"mt-6 divide-y divide-gray-200",children:d.folders.map(e=>(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-medium",children:e.name.charAt(0)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.photoCount," photo",e.photoCount>1?"s":""," • Derni\xe8re modification: ",e.lastModified]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>Y(e.id),className:"text-red-500 hover:text-red-700 transition-colors duration-200","aria-label":"Supprimer le dossier",children:(0,s.jsx)(f,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:()=>P(t=>t===e.id?null:e.id),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200","aria-label":H===e.id?"R\xe9duire le dossier":"Expandre le dossier",children:(0,s.jsx)(o.E.div,{animate:{rotate:H===e.id?180:0},transition:{duration:.2},children:(0,s.jsx)(g,{className:"h-5 w-5"})})})]})]})}),(0,s.jsx)(c.M,{children:H===e.id&&(0,s.jsx)(o.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,s.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,s.jsx)(N,{photos:e.photos,onDelete:X,onDownload:G})})})})]},e.id))})})]})})]}),(0,s.jsx)(c.M,{children:F&&A&&(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 transition-opacity","aria-hidden":"true"}),(0,s.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,s.jsx)(o.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"inline-block align-bottom text-left overflow-hidden transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:A.url,alt:A.name,className:"w-full h-auto max-h-[80vh] object-contain"}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>G(A),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":"T\xe9l\xe9charger la photo",children:(0,s.jsx)(b.Z,{className:"h-6 w-6"})}),(0,s.jsx)("button",{onClick:()=>q(!1),className:"text-white bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 transition-colors duration-200","aria-label":"Fermer la pr\xe9visualisation",children:(0,s.jsx)(y.Z,{className:"h-6 w-6"})})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-4",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:A.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[(0,s.jsxs)("span",{children:["Taille: ",(A.size/1024/1024).toFixed(2)," MB"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Upload\xe9 le: ",(e=>{try{let t=new Date(e);if(isNaN(t.getTime()))return"Date inconnue";return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Date inconnue"}})(A.uploaded_at)]})]})]})})]})})]})})})]})}},1048:function(e,t,a){"use strict";a.d(t,{N:function(){return l}});var s=a(3827),i=a(7907),r=a(8792);function l(){let e=(0,i.useRouter)();return(0,s.jsx)("nav",{className:"bg-white shadow",children:(0,s.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex h-16 justify-between",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex flex-shrink-0 items-center",children:(0,s.jsx)("span",{className:"text-xl font-bold text-blue-600",children:"Admin Panel"})}),(0,s.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,s.jsx)(r.default,{href:"/admin/dashboard",className:"inline-flex items-center border-b-2 border-blue-500 px-1 pt-1 text-sm font-medium text-gray-900",children:"Tableau de bord"}),(0,s.jsx)(r.default,{href:"/admin/users",className:"inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700",children:"Utilisateurs"})]})]}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),e.push("/auth/login")},className:"rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600",children:"D\xe9connexion"})})]})})})}},7662:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});var s=a(1051);let i={supabase:{url:"https://igeaimikswzxnaduekrr.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnZWFpbWlrc3d6eG5hZHVla3JyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI4OTQ2OTMsImV4cCI6MjA1ODQ3MDY5M30.S3osZcB9x8ygSDDMOfTxvvUHoxAbL1zlQNY70uLVrJA"}},r=(0,s.eI)(i.supabase.url,i.supabase.anonKey)}},function(e){e.O(0,[250,834,601,971,69,744],function(){return e(e.s=245)}),_N_E=e.O()}]);